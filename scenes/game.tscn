[gd_scene load_steps=29 format=3 uid="uid://x8tw3ruhxxdr"]

[ext_resource type="Script" path="res://scripts/sky.gd" id="1_2wf5j"]
[ext_resource type="Material" uid="uid://bq50a162ysybs" path="res://shaders/sprite_paper.tres" id="1_r7ga6"]
[ext_resource type="Shader" path="res://shaders/post_process.gdshader" id="8_73ca4"]
[ext_resource type="Script" path="res://scripts/conversation/conversation_box.gd" id="9_w2mhu"]
[ext_resource type="Texture2D" uid="uid://s5dof464rg4f" path="res://sprites/textbox.png" id="10_7iuwl"]
[ext_resource type="Texture2D" uid="uid://dv7xpdatbyxsk" path="res://sprites/seasons/Seasons_Circle.png" id="10_adqwj"]
[ext_resource type="Script" path="res://addons/dialogue_manager/dialogue_label.gd" id="11_d47m2"]
[ext_resource type="Texture2D" uid="uid://d3it58jh0eseh" path="res://sprites/seasons/Seasons_Autumn1.png" id="11_qus42"]
[ext_resource type="Script" path="res://scripts/conversation/conversation_agent.gd" id="12_ibt8c"]
[ext_resource type="Texture2D" uid="uid://flxr5rwd8yo" path="res://sprites/seasons/Seasons_Spring1.png" id="12_swd05"]
[ext_resource type="Script" path="res://scripts/storyteller.gd" id="13_f2ov4"]
[ext_resource type="Texture2D" uid="uid://pm70t6akno0t" path="res://sprites/seasons/Seasons_Summer1.png" id="13_fssvu"]
[ext_resource type="Script" path="res://scripts/time.gd" id="14_blpt0"]
[ext_resource type="Texture2D" uid="uid://bh3qva76jrekb" path="res://sprites/seasons/Seasons_Winter1.png" id="14_emfl6"]
[ext_resource type="Script" path="res://scripts/post_process.gd" id="14_foru3"]
[ext_resource type="Theme" uid="uid://c2qcgjte35rmi" path="res://theme.tres" id="17_6wtrd"]
[ext_resource type="FontFile" uid="uid://wxikehov2yqs" path="res://fonts/Merienda-VariableFont_wght.ttf" id="17_87k6o"]

[sub_resource type="Gradient" id="Gradient_fs2qh"]
offsets = PackedFloat32Array(0.00649351, 0.980519)
colors = PackedColorArray(0.432633, 0.738991, 0.846862, 1, 1, 1, 1, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_nj604"]
gradient = SubResource("Gradient_fs2qh")

[sub_resource type="Gradient" id="Gradient_gdy4v"]
offsets = PackedFloat32Array(0, 0.0462963, 0.0802469, 0.141975, 0.299383, 0.398148, 1)
colors = PackedColorArray(0, 0, 0, 1, 0.0108118, 0.122794, 0.236306, 1, 0.0624023, 0.317516, 0.554404, 1, 0.917835, 0.528446, 0.360484, 1, 0.737465, 0.720348, 0.820188, 1, 0.767952, 0.845568, 0.903503, 1, 0.734819, 0.818319, 0.884073, 1)

[sub_resource type="Gradient" id="Gradient_ujufb"]
offsets = PackedFloat32Array(0, 0.03125, 0.0648148, 0.141975, 0.333333, 0.558642)
colors = PackedColorArray(0, 0, 0, 1, 0.0860073, 0.153872, 0.19302, 1, 0.270677, 0.416397, 0.500951, 1, 0.913906, 0.827398, 0.767846, 1, 0.909551, 0.913093, 0.91412, 1, 1, 1, 1, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_04sif"]
shader = ExtResource("8_73ca4")
shader_parameter/tint_color = Vector3(1, 1, 1)

[sub_resource type="Gradient" id="Gradient_jjjns"]

[sub_resource type="GradientTexture1D" id="GradientTexture1D_6ua4e"]
gradient = SubResource("Gradient_jjjns")
width = 1

[sub_resource type="FontVariation" id="FontVariation_p0nbv"]
base_font = ExtResource("17_87k6o")
variation_opentype = {
2003265652: 450
}

[sub_resource type="FontVariation" id="FontVariation_uir3m"]
base_font = ExtResource("17_87k6o")
variation_opentype = {
2003265652: 450
}
variation_transform = Transform2D(1, 0.2, 0, 1, 0, 0)

[sub_resource type="FontVariation" id="FontVariation_xp6oe"]
base_font = ExtResource("17_87k6o")
variation_opentype = {
2003265652: 800
}
variation_transform = Transform2D(1, 0.2, 0, 1, 0, 0)

[sub_resource type="FontVariation" id="FontVariation_frg7b"]
base_font = ExtResource("17_87k6o")
variation_opentype = {
2003265652: 800
}

[node name="Game" type="Node2D"]

[node name="Sky" type="Sprite2D" parent="."]
unique_name_in_owner = true
position = Vector2(589.738, 315.957)
rotation = 1.5708
scale = Vector2(3.38721, 1495.97)
texture = SubResource("GradientTexture1D_nj604")
script = ExtResource("1_2wf5j")
day_gradient = SubResource("Gradient_gdy4v")
day_gradient_tint = SubResource("Gradient_ujufb")

[node name="PostProcess" type="Sprite2D" parent="."]
unique_name_in_owner = true
material = SubResource("ShaderMaterial_04sif")
position = Vector2(586, 326)
scale = Vector2(1528, 895)
texture = SubResource("GradientTexture1D_6ua4e")
script = ExtResource("14_foru3")
metadata/_edit_lock_ = true

[node name="HUD" type="CanvasLayer" parent="."]

[node name="ConversationBox" type="Control" parent="HUD"]
unique_name_in_owner = true
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = 527.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
script = ExtResource("9_w2mhu")

[node name="Textbox" type="TextureRect" parent="HUD/ConversationBox"]
material = ExtResource("1_r7ga6")
layout_mode = 1
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 135.0
offset_top = -153.0
offset_right = 755.0
offset_bottom = 199.0
grow_horizontal = 2
grow_vertical = 0
scale = Vector2(0.5, 0.5)
texture = ExtResource("10_7iuwl")

[node name="ConversationLabel" type="RichTextLabel" parent="HUD/ConversationBox"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 195.0
offset_top = 34.0
offset_right = -83.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("17_6wtrd")
theme_override_colors/default_color = Color(0, 0, 0, 1)
theme_override_fonts/normal_font = SubResource("FontVariation_p0nbv")
theme_override_fonts/italics_font = SubResource("FontVariation_uir3m")
theme_override_fonts/bold_italics_font = SubResource("FontVariation_xp6oe")
theme_override_fonts/bold_font = SubResource("FontVariation_frg7b")
bbcode_enabled = true
script = ExtResource("11_d47m2")
skip_pause_at_abbreviations = PackedStringArray("Mr", "Mrs", "Ms", "Dr", "etc", "eg", "ex")

[node name="TalkerLabel" type="Label" parent="HUD/ConversationBox"]
layout_mode = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 24.0
offset_top = -110.0
offset_right = 129.0
offset_bottom = -23.0
grow_vertical = 0
theme_override_colors/font_color = Color(0, 0, 0, 1)

[node name="EndDayUI" type="Control" parent="HUD"]
unique_name_in_owner = true
visible = false
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="Button" type="Button" parent="HUD/EndDayUI"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -193.0
offset_top = -32.0
offset_right = 194.0
offset_bottom = 32.0
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_color = Color(1, 1, 1, 1)
text = "End Day"

[node name="SeasonsIcon" type="TextureRect" parent="HUD"]
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -136.0
offset_top = -130.0
offset_right = -8.0
offset_bottom = -8.0
grow_horizontal = 0
grow_vertical = 0
texture = ExtResource("10_adqwj")
expand_mode = 1

[node name="Spring" type="TextureRect" parent="HUD/SeasonsIcon"]
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -91.0
offset_top = -91.0
offset_right = -21.0
offset_bottom = -23.0
grow_horizontal = 0
grow_vertical = 0
texture = ExtResource("12_swd05")
expand_mode = 1

[node name="Summer" type="TextureRect" parent="HUD/SeasonsIcon"]
visible = false
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -91.0
offset_top = -91.0
offset_right = -28.0
offset_bottom = -30.0
grow_horizontal = 0
grow_vertical = 0
texture = ExtResource("13_fssvu")
expand_mode = 1

[node name="Autumn" type="TextureRect" parent="HUD/SeasonsIcon"]
visible = false
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -96.0
offset_top = -96.0
offset_right = -23.0
offset_bottom = -25.0
grow_horizontal = 0
grow_vertical = 0
texture = ExtResource("11_qus42")
expand_mode = 1

[node name="Winter" type="TextureRect" parent="HUD/SeasonsIcon"]
visible = false
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -91.0
offset_top = -91.0
offset_right = -28.0
offset_bottom = -30.0
grow_horizontal = 0
grow_vertical = 0
texture = ExtResource("14_emfl6")
expand_mode = 1

[node name="ConversationAgent" type="Node" parent="."]
unique_name_in_owner = true
script = ExtResource("12_ibt8c")

[node name="Storyteller" type="Node" parent="." node_paths=PackedStringArray("season_icons")]
unique_name_in_owner = true
script = ExtResource("13_f2ov4")
season_icons = [NodePath("../HUD/SeasonsIcon/Spring"), NodePath("../HUD/SeasonsIcon/Summer"), NodePath("../HUD/SeasonsIcon/Autumn"), NodePath("../HUD/SeasonsIcon/Winter")]

[node name="Time" type="Node" parent="."]
unique_name_in_owner = true
script = ExtResource("14_blpt0")
